<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>

	<form method="post">
		<label>Password</label>
		
		<input type="password" name="password" id="password" onkeyup="validatePass()">
		<span onclick="hideAndShow()">Hide/Show</span>
		<br><br>
		<div id="errorList">
			<span id="e1">One lowercase character</span> <br><br>
			<span id="e2">One uppercase character</span> <br><br>
			<span id="e3">One number</span> <br><br>
			<span id="e4">One special character</span><br><br>
			<span id="e5">8 characters minimum</span><br><br>
		</div>
		<div id="successInfo"> 
			Your password is secure and you're all set!
		</div>
	</form>

	<script type="text/javascript">

		let allSet = document.getElementById("successInfo");
		let errorList = document.getElementById("errorList");

		allSet.style.display = "none";

		function hideAndShow() {
			let element = document.getElementById('password');
			
			let attr = element.getAttribute("type")

			if(attr=='password') {
				element.setAttribute("type","text")
			} else {
				element.setAttribute("type","password")
			}
			
		}

		function validatePass() {
			let password = document.getElementById("password").value;
			let special = /[\!\@\#\$\%\^\&\*\)\(\+\=\.\<\>\{\}\[\]\:\;\'\"\|\~\`\_\-]/g;

			if (/[a-z]/.test(password)) {
				document.getElementById("e1").style.color = "grey";
			} else {
				document.getElementById("e1").style.color = "black";
			}

			if (/[A-Z]/.test(password)) {
				document.getElementById("e2").style.color = "grey";
			} else {
				document.getElementById("e2").style.color = "black";
			}

			if (/[0-9]/.test(password)) {
				document.getElementById("e3").style.color = "grey";
			} else {
				document.getElementById("e3").style.color = "black";
			}

			if (password.length<8) {
				document.getElementById("e5").style.color = "black";
			} else {
				document.getElementById("e5").style.color = "grey";
			}


			if (special.test(password)) {
				document.getElementById("e4").style.color = "grey";
			} else {
				document.getElementById("e4").style.color = "black";
			}


			// console.log(/[a-z]/.test(password));
			// console.log(/[A-Z]/.test(password));
			// console.log(/[0-9]/.test(password));
			// console.log(password.length>=8);
			// console.log(.test(password));

			if(/[a-z]/.test(password) && /[A-Z]/.test(password) && /[0-9]/.test(password) && password.length>=8 && special.test(password)) {
				allSet.style.display = "block";
				console.log('All Set');
				errorList.style.display = "none";
			} else {
				console.log('Error');
				allSet.style.display = "none";
				errorList.style.display = "block";
			}
		}
	</script>
</body>
</html>